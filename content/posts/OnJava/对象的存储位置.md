---
title: 对象的存储位置
date: 2022-06-09T00:26:32+08:00
description: 对象的存储位置
menu:
  sidebar:
    name: 对象的存储位置
    identifier: On Java-对象的存储位置
    parent: OnJava
    weight: 10
hero: fernand-de-canne-Unl-fQ1_P5Q-unsplash.jpg
---

## 数据存储的位置
常见共有如下5种数据存储的方式：

1. `寄存器`，数据保存在中央处理器（即CPU），数量有限，速度最快；在Java中无法直接控制寄存器的分配；C和C++允许程序向编译器申请分配寄存器。
2. `栈`，数据存储在RAM里，处理器可以通过**栈指针**直接操作数据。将栈指针向下移动将申请一块新的内存，向上移动则会释放这块内存；效率仅次于寄存器。对于Java而言，存储在栈上的对象，需要明确生命周期。
3. `堆`，使用的也是RAM空间，用于存放所有Java对象。编译器不关心存储在堆上的对象的存活时间。
4. `常量存储`，常量通常直接保存在程序代码中；在某些嵌入式系统里，会保存在只读存储器（ROM）中。
5. `非RAM存储`，针对数据不依赖于英语程序是否运行的情况，比如以文件的方式存储在磁盘。

## Java基本类型
在Java中，只能通过`new`在堆上创建对象。但是，`基本类型`无须使用new来创建，Java是直Markdown Preview Enhanced接创建一个“自动变量”，并在栈上保存它的值。

### 占用空间大小

| 基本类型 | 大小   |
| :---:   | :---: |
| boolean | -     |
| char    | 16位  |
| byte    | 8位   |
| short   | 16位  |
| int     | 32位  |
| long    | 64位  |
| float   | 32位  |
| double  | 64位  |
| void    | -    |

所有数值类型都是有符号的。`boolean`类型的空间大小没有明确标出，其对象只能被赋值为`true`或`false`。